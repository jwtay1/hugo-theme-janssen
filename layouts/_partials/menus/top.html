{{- /*
Renders a menu for the given menu ID.

@context {page} page The current page.
@context {string} menuID The menu ID.

@example: {{ partial "footer_menu.html" (dict "menuID" "footer1" "page" .) }}
*/}}

{{- $page := .page }}
{{- $menuID := .menuID }}

{{- with index site.Menus $menuID }}
<div class="menu-top">
    <nav id="main-menu">
        <ul>
            {{ range . }}
            {{- $isExt := strings.HasPrefix .URL "http" }}
            {{- $isActive := or ($page.IsMenuCurrent $menuID .) ($page.IsDescendant (site.GetPage .URL)) }}
            <li><a href="{{ .URL }}" {{ if $isActive }}class="active" {{ end }} {{ if $isExt }}target="_blank"
                    class="top-link" {{ end }}>
                    {{- .Name -}}
                    {{- if $isExt }}<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960"
                        width="24px" fill="#000000">
                        <path
                            d="M212.31-140Q182-140 161-161q-21-21-21-51.31v-535.38Q140-778 161-799q21-21 51.31-21h252.3v60h-252.3q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v535.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85h535.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-252.3h60v252.3Q820-182 799-161q-21 21-51.31 21H212.31Zm176.46-206.62-42.15-42.15L717.85-760H560v-60h260v260h-60v-157.85L388.77-346.62Z" />
                    </svg>{{ end -}}
                </a>
            </li>
            {{ end }}
        </ul>
    </nav>
</div>
{{- end }}